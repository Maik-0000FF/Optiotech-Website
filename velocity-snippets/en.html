<!DOCTYPE html>
<html lang="en">
<head>
    <script>
    // Language Persistence System
    (function() {
        const currentLang = document.documentElement.lang;
        const savedLang = localStorage.getItem('preferredLanguage');
        const path = window.location.pathname;

        if (savedLang && savedLang !== currentLang && !sessionStorage.getItem('languageRedirecting')) {
            const langMap = {
                '/velocity-snippets/en.html': '/velocity-snippets/'
            };
            const targetUrl = langMap[path];
            if (targetUrl && savedLang === 'de') {
                sessionStorage.setItem('languageRedirecting', '1');
                window.location.replace(targetUrl);
            }
        }
        window.addEventListener('load', function() {
            sessionStorage.removeItem('languageRedirecting');
        });
    })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Velocity Snippets - PowerToys Quick Accent Alternative + Text Expansion for Mac. All Velocity Accents features included, plus unlimited snippets.">
    <meta name="keywords" content="quick accent alternative mac, text expander alternative mac, velocity accents plus, quick accent with text expansion, snippet manager alternative mac, all in one typing tool mac, emoji snippet tool mac, powertoys quick accent alternative, velocity accents alternative, text expansion with quick accent">
    <meta name="author" content="Maik Bludovsky">

    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self'; media-src 'self'; object-src 'none'; frame-src 'none'; base-uri 'self'; form-action 'self' https://optiotech.gumroad.com;">

    <title>Velocity Snippets - Smart Text Expansion for macOS</title>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://optiotech.de/velocity-snippets/en.html">
    <meta property="og:title" content="Velocity Snippets - PowerToys Quick Accent Alternative + Text Expansion for Mac">
    <meta property="og:description" content="PowerToys Quick Accent Alternative + Text Expansion for Mac. All Velocity Accents features included, plus unlimited snippets and emojis.">
    <meta property="og:image" content="https://optiotech.de/assets/images/velocity-snippets-icon.png">
    <meta property="og:video" content="https://optiotech.de/videos/Demo_VelocitySnippets_desktop.mp4">
    <meta property="og:video:url" content="https://optiotech.de/videos/Demo_VelocitySnippets_desktop.mp4">
    <meta property="og:video:secure_url" content="https://optiotech.de/videos/Demo_VelocitySnippets_desktop.mp4">
    <meta property="og:video:type" content="video/mp4">
    <meta property="og:video:width" content="3840">
    <meta property="og:video:height" content="2160">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="de_DE">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://optiotech.de/velocity-snippets/en.html">
    <meta property="twitter:title" content="Velocity Snippets - PowerToys Quick Accent Alternative + Text Expansion for Mac">
    <meta property="twitter:description" content="PowerToys Quick Accent Alternative + Text Expansion for Mac. All Velocity Accents features included, plus unlimited snippets and emojis.">
    <meta property="twitter:image" content="https://optiotech.de/assets/images/velocity-snippets-icon.png">
    <meta name="twitter:player" content="https://optiotech.de/velocity-snippets/en.html#demo">
    <meta name="twitter:player:width" content="3840">
    <meta name="twitter:player:height" content="2160">
    <meta name="twitter:player:stream" content="https://optiotech.de/videos/Demo_VelocitySnippets_desktop.mp4">
    <meta name="twitter:player:stream:content_type" content="video/mp4">

    <!-- Canonical & Language -->
    <link rel="canonical" href="https://optiotech.de/velocity-snippets/en.html">
    <link rel="alternate" hreflang="de" href="https://optiotech.de/velocity-snippets/">
    <link rel="alternate" hreflang="en" href="https://optiotech.de/velocity-snippets/en.html">
    <link rel="alternate" hreflang="x-default" href="https://optiotech.de/velocity-snippets/en.html">

    <!-- Preload critical CSS for faster LCP -->
    <link rel="preload" href="../assets/css/velocity-accents.css" as="style">
    <link rel="stylesheet" href="../assets/css/velocity-accents.css" fetchpriority="high">

    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/velocity-snippets-favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/images/velocity-snippets-favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="../assets/images/velocity-snippets-favicon-48x48.png">
    <link rel="icon" type="image/png" href="../assets/images/velocity-snippets-icon.png">

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/images/velocity-snippets-apple-touch-icon-180x180.png">
    <link rel="apple-touch-icon" sizes="152x152" href="../assets/images/velocity-snippets-apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../assets/images/velocity-snippets-apple-touch-icon-120x120.png">

    <!-- Structured Data / JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Velocity Snippets",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "macOS 14.0 or later",
        "offers": {
            "@type": "Offer",
            "price": "9.99",
            "priceCurrency": "USD",
            "url": "https://optiotech.gumroad.com/l/velocity-snippets"
        },
        "author": {
            "@type": "Person",
            "name": "Maik Bludovsky"
        },
        "description": "PowerToys Quick Accent Alternative + Text Expansion for macOS. All Velocity Accents features included, plus unlimited snippets, emojis and math symbols.",
        "image": "https://optiotech.de/assets/images/velocity-snippets-icon.png",
        "softwareVersion": "0.1.1",
        "releaseNotes": "Version 0.1.1 - Available now with Quick Accent gesture, unlimited snippets, emoji support and text expansion",
        "featureList": [
            "Quick Accent gesture",
            "Custom character mappings",
            "Text snippets",
            "Code snippets",
            "Math symbols",
            "Emojis support"
        ]
    }
    </script>

    <!-- Video Schema / JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "VideoObject",
        "name": "Velocity Snippets Demo - Smart Text Expansion for macOS",
        "description": "Demo video of Velocity Snippets in action. PowerToys Quick Accent Alternative with Text Expansion for macOS. All Velocity Accents features plus snippets and emojis.",
        "thumbnailUrl": "https://optiotech.de/assets/images/velocity-snippets-icon.png",
        "uploadDate": "2025-11-12",
        "contentUrl": "https://optiotech.de/videos/Demo_VelocitySnippets_desktop.mp4",
        "embedUrl": "https://optiotech.de/videos/Demo_VelocitySnippets_desktop.mp4",
        "duration": "PT2M34S",
        "publisher": {
            "@type": "Organization",
            "name": "optiotech",
            "logo": {
                "@type": "ImageObject",
                "url": "https://optiotech.de/assets/images/optiotech.svg"
            }
        }
    }
    </script>

    <!-- Schema.org ImageGallery for Screenshots -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ImageGallery",
        "name": "Velocity Snippets Screenshots - Features in Detail",
        "description": "Official screenshots of Velocity Snippets for macOS showing language presets, emoji mappings, math symbols, custom mappings, and text expansion in action.",
        "image": [
            {
                "@type": "ImageObject",
                "contentUrl": "https://optiotech.de/screenshots/velocity-snippets/preferences_dropdown_presets_velocitysnippets.webp",
                "name": "Preset Language Mappings - Velocity Snippets",
                "description": "Velocity Snippets dropdown menu with 9 language presets for macOS",
                "width": "5120",
                "height": "2880",
                "caption": "Preset Mappings - Choose from 10+ languages and presets"
            },
            {
                "@type": "ImageObject",
                "contentUrl": "https://optiotech.de/screenshots/velocity-snippets/multilingual_mapping_velocitysnippets.webp",
                "name": "Multilingual Character Mappings - Velocity Snippets",
                "description": "Velocity Snippets multilingual support for German, French, Spanish and more",
                "width": "5120",
                "height": "2880",
                "caption": "Multilingual - German, French, Spanish & more"
            },
            {
                "@type": "ImageObject",
                "contentUrl": "https://optiotech.de/screenshots/velocity-snippets/emoji_mapping_velocitysnippets.webp",
                "name": "Emoji Mappings - Velocity Snippets",
                "description": "Velocity Snippets emoji support with quick access to hearts, smileys and more",
                "width": "5120",
                "height": "2880",
                "caption": "Emoji Support - Quick access to hearts, smileys & more"
            },
            {
                "@type": "ImageObject",
                "contentUrl": "https://optiotech.de/screenshots/velocity-snippets/math_mapping_velocitysnippets.webp",
                "name": "Math Symbols Mappings - Velocity Snippets",
                "description": "Velocity Snippets math symbols π, α, β, √, ∫ instantly available",
                "width": "5120",
                "height": "2880",
                "caption": "Math Symbols - Type π, α, β, √, ∫ instantly"
            },
            {
                "@type": "ImageObject",
                "contentUrl": "https://optiotech.de/screenshots/velocity-snippets/emoji_in_action_velocitysnippets.webp",
                "name": "Emoji Snippets in Action - Velocity Snippets",
                "description": "Velocity Snippets showing emoji expansion live while typing",
                "width": "5120",
                "height": "2880",
                "caption": "Emoji in Action - Quick emojis while typing"
            },
            {
                "@type": "ImageObject",
                "contentUrl": "https://optiotech.de/screenshots/velocity-snippets/math_in_action_velocitysnippets.webp",
                "name": "Math Symbols in Action - Velocity Snippets",
                "description": "Velocity Snippets math symbols live while typing",
                "width": "5120",
                "height": "2880",
                "caption": "Math Symbols Live - Mathematical characters instantly available"
            },
            {
                "@type": "ImageObject",
                "contentUrl": "https://optiotech.de/screenshots/velocity-snippets/spanish_in_action_velocitysnippets.webp",
                "name": "Spanish Accents in Action - Velocity Snippets",
                "description": "Velocity Snippets Spanish special characters live while typing",
                "width": "5120",
                "height": "2880",
                "caption": "Spanish in Action - Accents appear instantly while typing"
            },
            {
                "@type": "ImageObject",
                "contentUrl": "https://optiotech.de/screenshots/velocity-snippets/custom_mapping_velocitysnippets.webp",
                "name": "Custom Character Mappings - Velocity Snippets",
                "description": "Velocity Snippets custom mappings editor for your own shortcuts",
                "width": "5120",
                "height": "2880",
                "caption": "Custom Mappings - Create your own shortcuts and cycling"
            }
        ]
    }
    </script>

    <!-- Structured Data / JSON-LD - Breadcrumbs -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://optiotech.de"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Velocity Snippets",
                "item": "https://optiotech.de/velocity-snippets/"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "English",
                "item": "https://optiotech.de/velocity-snippets/en.html"
            }
        ]
    }
    </script>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo-container"><a href="/"><img src="../assets/images/optiotech.svg" alt="optiotech" class="logo" width="212" height="43"></a></div>

            <!-- Mobile Header Right (Language + Hamburger) -->
            <div class="mobile-header-right">
                <a href="index.html" class="lang-switch">DE</a>
                <button class="hamburger" id="hamburger" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>

            <!-- Desktop Navigation -->
            <nav class="desktop-nav">
                <a href="#features">Features</a>
                <a href="#screenshots">Screenshots</a>
                <a href="#download">Download</a>
                <a href="mailto:optiotech@web.de">Support</a>
                <a href="index.html" class="lang-switch">DE</a>
            </nav>
        </div>

        <!-- Mobile Navigation Overlay -->
        <div class="mobile-nav-overlay" id="mobileNavOverlay">
            <nav class="mobile-nav">
                <a href="#features">Features</a>
                <a href="#screenshots">Screenshots</a>
                <a href="#download">Download</a>
                <a href="mailto:optiotech@web.de">Support</a>
            </nav>
        </div>
    </header>

    <main>
    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Velocity Snippets</h1>
            <p class="subtitle">Smart Text Expansion for macOS</p>
            <p class="description">Expand text as fast as you think. Snippets, emojis, symbols&nbsp;– all by gesture. Inspired by PowerToys Quick Accent, optimized for unlimited possibilities.</p>
            <div class="hero-buttons">
                <a href="https://optiotech.gumroad.com/l/velocity-snippets" class="btn btn-primary" target="_blank" rel="noopener">Buy Now - $9.99</a>
                <a href="#demo" class="btn btn-secondary">Watch Demo</a>
            </div>
        </div>
    </section>

    <!-- Video Demo Section -->
    <section class="video-section" id="demo">
        <div class="container">
            <h2>See It in Action&nbsp;– Real-time Performance</h2>
            <div class="video-wrapper">
                <video id="demoVideo" autoplay controls loop muted playsinline poster="../assets/images/velocity-snippets-video-thumbnail.jpg">
                    <source src="../videos/Demo_VelocitySnippets_mobile.mp4" type="video/mp4" media="(max-width: 1024px)">
                    <source src="../videos/Demo_VelocitySnippets_desktop.mp4" type="video/mp4" media="(min-width: 1025px)">
                    <track kind="captions" src="../videos/captions-velocity-snippets-en.vtt" srclang="en" label="English" default>
                    <track kind="captions" src="../videos/captions-velocity-snippets-de.vtt" srclang="de" label="Deutsch">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="container">
            <h2>Why Velocity Snippets?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <span class="feature-icon">→</span>
                    <h3>Zero Lag</h3>
                    <p>Characters appear instantly with no delays. No clipboard manipulation, just pure speed.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">A+</span>
                    <h3>Presets + Custom</h3>
                    <p>Ready-made presets for instant start. All customizable or create your own mappings from scratch.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon"><img src="../assets/images/keyboard-svgrepo-com.svg" alt="Keyboard" class="feature-icon-svg"></span>
                    <h3>Quick Accent Gesture++</h3>
                    <p>The familiar hold & wait gesture, improved for maximum speed and natural writing flow.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">±</span>
                    <h3>Custom Mappings</h3>
                    <p>Absolute freedom&nbsp;– create mappings for anything you want. Characters, symbols, emojis, snippets with cycling support.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">⇄</span>
                    <h3>Drag & Drop Editor</h3>
                    <p>Create and organize snippets with drag & drop. No complex configuration&nbsp;– simply drag, drop, done.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">◉</span>
                    <h3>Visual Overlay</h3>
                    <p>See cycling variants while typing with customizable position.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">∞</span>
                    <h3>Universal Support</h3>
                    <p>Works in all macOS apps - Safari, Terminal, VS Code, Office, and more.</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">⧉</span>
                    <h3>Accents Included</h3>
                    <p>All Velocity Accents features included&nbsp;– plus unlimited snippets, emojis, and complex text expansion.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Screenshots Section -->
    <section class="screenshots" id="screenshots">
        <div class="container">
            <!-- Horizontal Scrolling Screenshots -->
            <div class="screenshot-scroll-wrapper">
                <div class="screenshot-scroll-wrapper-inner">
                    <div class="screenshot-header">
                        <h2>Easy to Use, Powerful to Master</h2>
                        <p class="screenshots-subtitle">Simple preferences, infinite possibilities</p>
                    </div>
                    <div class="screenshot-scroll-container">
                    <div class="screenshot-grid">
                        <div class="screenshot-item">
                            <img src="../screenshots/velocity-snippets/preferences_dropdown_presets_velocitysnippets.webp" alt="Select preset language mappings">
                            <div class="screenshot-caption">
                                <h3>Preset Mappings</h3>
                                <p>Choose from 10+ languages and presets</p>
                            </div>
                        </div>
                        <div class="screenshot-item">
                            <img src="../screenshots/velocity-snippets/multilingual_mapping_velocitysnippets.webp" alt="Multilingual character mappings">
                            <div class="screenshot-caption">
                                <h3>Multilingual</h3>
                                <p>German, French, Spanish & more</p>
                            </div>
                        </div>
                        <div class="screenshot-item">
                            <img src="../screenshots/velocity-snippets/emoji_mapping_velocitysnippets.webp" alt="Emoji mappings">
                            <div class="screenshot-caption">
                                <h3>Emoji Support</h3>
                                <p>Quick access to hearts, smileys & more</p>
                            </div>
                        </div>
                        <div class="screenshot-item">
                            <img src="../screenshots/velocity-snippets/math_mapping_velocitysnippets.webp" alt="Math symbols">
                            <div class="screenshot-caption">
                                <h3>Math Symbols</h3>
                                <p>Type π, α, β, √, ∫ instantly</p>
                            </div>
                        </div>
                    </div>
                    </div>
                    <div class="screenshot-pagination" id="screenshot-pagination-1"></div>
                    <p class="scroll-hint">↓ Scroll down to explore more features ↓</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Screenshots Section 2 - Usage Examples -->
    <section class="screenshots screenshots-reverse" id="usage">
        <div class="container">
            <!-- Horizontal Scrolling Screenshots (Reverse) -->
            <div class="screenshot-scroll-wrapper screenshot-scroll-wrapper-reverse">
                <div class="screenshot-scroll-wrapper-inner">
                    <div class="screenshot-header">
                        <h2>Experience the Power</h2>
                        <p class="screenshots-subtitle">Velocity Snippets live while typing</p>
                    </div>
                    <div class="screenshot-scroll-container screenshot-scroll-container-reverse">
                    <div class="screenshot-grid">
                        <div class="screenshot-item">
                            <img src="../screenshots/velocity-snippets/emoji_in_action_velocitysnippets.webp" alt="Emoji snippets in action">
                            <div class="screenshot-caption">
                                <h3>Emoji in Action</h3>
                                <p>Quick emojis while typing</p>
                            </div>
                        </div>
                        <div class="screenshot-item">
                            <img src="../screenshots/velocity-snippets/math_in_action_velocitysnippets.webp" alt="Math symbols in action">
                            <div class="screenshot-caption">
                                <h3>Math Symbols Live</h3>
                                <p>Mathematical characters instantly available</p>
                            </div>
                        </div>
                        <div class="screenshot-item">
                            <img src="../screenshots/velocity-snippets/spanish_in_action_velocitysnippets.webp" alt="Spanish accents in action">
                            <div class="screenshot-caption">
                                <h3>Spanish in Action</h3>
                                <p>Accents appear instantly while typing</p>
                            </div>
                        </div>
                        <div class="screenshot-item">
                            <img src="../screenshots/velocity-snippets/custom_mapping_velocitysnippets.webp" alt="Custom character mappings">
                            <div class="screenshot-caption">
                                <h3>Custom Mappings</h3>
                                <p>Create your own shortcuts and cycling</p>
                            </div>
                        </div>
                    </div>
                    </div>
                    <div class="screenshot-pagination" id="screenshot-pagination-2"></div>
                    <p class="scroll-hint">↓ Scroll down to see more ↓</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Download Section -->
    <section class="download" id="download">
        <div class="container">
            <img src="../assets/images/velocity-snippets-icon.png" alt="Velocity Snippets Icon" class="download-app-icon" width="1024" height="1024">
            <h2>Get Velocity Snippets</h2>
            <p class="price-tag">One-time purchase • Free updates up to v2 • No subscription</p>
            <a href="https://optiotech.gumroad.com/l/velocity-snippets" class="btn btn-primary" target="_blank" rel="noopener">Buy Now - $9.99</a>
            <p style="margin-top: 12px; font-size: 14px; color: var(--text-light); opacity: 0.9;">✓ Apple notarized • Safe to install</p>

            <div class="requirements-box">
                <div class="requirement-card">
                    <h3>System Requirements</h3>
                    <ul>
                        <li>macOS 14.0 (Sonoma) or later</li>
                        <li>Apple Silicon or Intel Mac</li>
                        <li>Accessibility permissions (one-time setup)</li>
                        <li>Works with all keyboard layouts</li>
                    </ul>
                </div>

                <div class="requirement-card">
                    <h3>Quick Setup</h3>
                    <ul>
                        <li>Download and open the DMG file</li>
                        <li>Drag to Applications folder</li>
                        <li>Launch and grant permissions</li>
                        <li>Restart the app</li>
                        <li>Get started!</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Support Section -->
    <section class="support">
        <div class="container">
            <h2>Need Help?</h2>
            <p>Questions, feedback, or technical support?</p>
            <p><strong>Developer:</strong> Maik Bludovsky</p>
            <p><strong>Email:</strong> <a href="mailto:optiotech@web.de">optiotech@web.de</a></p>
            <p><strong>Website:</strong> <a href="https://optiotech.de">optiotech.de</a></p>
        </div>
    </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p><strong>Velocity Snippets</strong> by optiotech</p>
            <p>Smart Text Expansion for macOS</p>
            <p>Developer: Maik Bludovsky | <a href="mailto:optiotech@web.de">optiotech@web.de</a></p>
            <p style="margin-top: 20px;">
                <a href="/imprint.html">Legal Notice</a> |
                <a href="/privacy.html#velocity-snippets">Privacy Policy</a>
            </p>
            <p>Velocity™ logo trademark pending<br>Copyright © 2025 Maik Bludovsky. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Language Switch - Save preference and preserve scroll position
        document.querySelectorAll('.lang-switch').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetLang = this.textContent.trim().toLowerCase();
                localStorage.setItem('preferredLanguage', targetLang);
                sessionStorage.setItem('scrollPosition', window.pageYOffset);
                window.location.href = this.getAttribute('href');
            });
        });

        // Restore scroll position after language switch
        window.addEventListener('load', function() {
            const scrollPosition = sessionStorage.getItem('scrollPosition');
            if (scrollPosition) {
                setTimeout(() => {
                    window.scrollTo(0, parseInt(scrollPosition));
                    sessionStorage.removeItem('scrollPosition');
                }, 100);
            }
        });

        // Hamburger Menu Toggle & Hide-on-Scroll Header
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.getElementById('hamburger');
            const mobileNavOverlay = document.getElementById('mobileNavOverlay');
            const mobileNavLinks = document.querySelectorAll('.mobile-nav a');
            const header = document.querySelector('header');

            // Toggle menu
            function toggleMenu() {
                hamburger.classList.toggle('active');
                mobileNavOverlay.classList.toggle('active');
                document.body.style.overflow = mobileNavOverlay.classList.contains('active') ? 'hidden' : '';
            }

            // Open/close menu on hamburger click
            hamburger.addEventListener('click', toggleMenu);

            // Close menu when clicking overlay
            mobileNavOverlay.addEventListener('click', function(e) {
                if (e.target === mobileNavOverlay) {
                    toggleMenu();
                }
            });

            // Close menu when clicking any link
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', toggleMenu);
            });

            // Close menu on ESC key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && mobileNavOverlay.classList.contains('active')) {
                    toggleMenu();
                }
            });

            // Hide-on-Scroll Header
            let lastScrollTop = 0;
            const scrollThreshold = 100;
            let ticking = false;

            function updateHeaderVisibility() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

                // Don't hide if menu is open
                if (mobileNavOverlay.classList.contains('active')) {
                    ticking = false;
                    return;
                }

                // Show header at top of page
                if (scrollTop < scrollThreshold) {
                    header.classList.remove('header-hidden');
                }
                // Hide on scroll down, show on scroll up
                else if (scrollTop > lastScrollTop) {
                    // Scrolling down
                    header.classList.add('header-hidden');
                } else {
                    // Scrolling up
                    header.classList.remove('header-hidden');
                }

                lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
                ticking = false;
            }

            window.addEventListener('scroll', function() {
                if (!ticking) {
                    window.requestAnimationFrame(updateHeaderVisibility);
                    ticking = true;
                }
            });

            // Set video playback speed to normal
            const video = document.getElementById('demoVideo');
            if (video) {
                video.playbackRate = 1.0;
            }
        });

        // Horizontal scroll on vertical scroll effect - Handles both sections
        function initHorizontalScroll(wrapperSelector, innerSelector, containerSelector, reverse = false) {
            const scrollWrapper = document.querySelector(wrapperSelector);
            const scrollWrapperInner = document.querySelector(innerSelector);
            const scrollContainer = document.querySelector(containerSelector);

            if (!scrollWrapper || !scrollWrapperInner || !scrollContainer) return;

            let ticking = false;
            const stickyTop = parseInt(getComputedStyle(scrollWrapperInner).top);

            function updateScrollPosition() {
                const rect = scrollWrapper.getBoundingClientRect();
                const wrapperHeight = scrollWrapper.offsetHeight;
                const containerWidth = scrollContainer.scrollWidth;
                const viewportWidth = scrollContainer.offsetWidth;
                const maxScroll = containerWidth - viewportWidth;

                const innerRect = scrollWrapperInner.getBoundingClientRect();
                const wrapperTop = rect.top;

                // Check if wrapper-inner is stuck (sticky active)
                const isSticky = innerRect.top <= stickyTop + 1;

                // Horizontal scroll ONLY when sticky is active
                if (isSticky) {
                    // Base multiplier for height calculation (must match height calculation!)
                    const baseMultiplier = window.innerWidth <= 768 ? 0.45 : 0.8;
                    // Horizontal scroll speed factor (lower = slower horizontal movement)
                    // Mobile: 0.67 makes it 33% slower, Desktop: 1.0 keeps same speed
                    const horizontalSpeedFactor = window.innerWidth <= 768 ? 0.67 : 1.0;

                    // Calculate scroll range: multiply by speed factor to slow horizontal scroll
                    const horizontalScrollDistance = containerWidth - viewportWidth;
                    const scrollRange = (horizontalScrollDistance / baseMultiplier) / horizontalSpeedFactor;

                    // Calculate scrolled distance from when sticky became active
                    // Subtract the stickyTop offset to start from 0 when sticky activates
                    const scrolledDistance = Math.max(0, Math.abs(wrapperTop) - stickyTop);

                    let scrollProgress = Math.max(0, Math.min(1,
                        scrolledDistance / scrollRange
                    ));

                    // Reverse direction for second section
                    if (reverse) {
                        scrollProgress = 1 - scrollProgress;
                    }

                    scrollContainer.scrollLeft = scrollProgress * maxScroll;
                } else {
                    // Immediate snap to start/end positions when not sticky
                    if (wrapperTop > 0) {
                        // Above section (sticky not active yet) - set to start position
                        scrollContainer.scrollLeft = reverse ? maxScroll : 0;
                    } else {
                        // Below section (sticky no longer active) - set to end position
                        scrollContainer.scrollLeft = reverse ? 0 : maxScroll;
                    }
                }

                ticking = false;
            }

            function requestTick() {
                if (!ticking) {
                    window.requestAnimationFrame(updateScrollPosition);
                    ticking = true;
                }
            }

            window.addEventListener('scroll', requestTick);
            window.addEventListener('resize', requestTick);

            updateScrollPosition();
        }

        // Dynamic height calculation for scroll wrappers
        function setDynamicScrollHeight() {
            const wrappers = document.querySelectorAll('.screenshot-scroll-wrapper');

            wrappers.forEach(wrapper => {
                const container = wrapper.querySelector('.screenshot-scroll-container');
                const grid = wrapper.querySelector('.screenshot-grid');

                if (!container || !grid) return;

                const scrollWidth = grid.scrollWidth;
                const containerWidth = container.offsetWidth;
                const scrollDistance = scrollWidth - containerWidth;

                // Calculate optimal height for perfect sync between sticky and horizontal scroll
                const isMobile = window.innerWidth <= 768;
                const baseMultiplier = isMobile ? 0.45 : 0.8;
                const horizontalSpeedFactor = isMobile ? 0.67 : 1.0;

                // Height must account for both baseMultiplier AND speedFactor
                // scrollRange = (scrollDistance / baseMultiplier) / speedFactor
                // Height = viewport + scrollRange to ensure perfect sync
                const calculatedHeight = window.innerHeight + (scrollDistance / baseMultiplier) / horizontalSpeedFactor;

                wrapper.style.height = `${calculatedHeight}px`;

                // Debug: verify sticky behavior
                console.log(`Wrapper: ${wrapper.classList.contains('screenshot-scroll-wrapper-reverse') ? 'REVERSE' : 'NORMAL'}, Height: ${calculatedHeight}px, Viewport: ${window.innerHeight}px, Ratio: ${(calculatedHeight / window.innerHeight).toFixed(2)}x`);
            });
        }

        // Initialize both scroll sections
        initHorizontalScroll(
            '.screenshot-scroll-wrapper:not(.screenshot-scroll-wrapper-reverse)',
            '.screenshot-scroll-wrapper-inner:not(.screenshot-scroll-wrapper-reverse .screenshot-scroll-wrapper-inner)',
            '.screenshot-scroll-container:not(.screenshot-scroll-container-reverse)',
            false
        );
        initHorizontalScroll(
            '.screenshot-scroll-wrapper-reverse',
            '.screenshot-scroll-wrapper-reverse .screenshot-scroll-wrapper-inner',
            '.screenshot-scroll-container-reverse',
            true
        );

        // Set initial heights and recalculate on resize/zoom
        // Wait for all images to load before calculating heights
        if (document.readyState === 'complete') {
            setDynamicScrollHeight();
        } else {
            window.addEventListener('load', setDynamicScrollHeight);
        }

        // Also recalculate on resize/zoom
        let resizeTimeout;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(setDynamicScrollHeight, 100);
        });

        // Screenshot Pagination Dots
        function initScreenshotPagination() {
            const sections = [
                {
                    container: document.querySelector('.screenshot-scroll-container:not(.screenshot-scroll-container-reverse)'),
                    pagination: document.getElementById('screenshot-pagination-1')
                },
                {
                    container: document.querySelector('.screenshot-scroll-container-reverse'),
                    pagination: document.getElementById('screenshot-pagination-2')
                }
            ];

            sections.forEach(section => {
                if (!section.container || !section.pagination) return;

                const items = section.container.querySelectorAll('.screenshot-item');
                const itemCount = items.length;

                // Create pagination dots
                for (let i = 0; i < itemCount; i++) {
                    const dot = document.createElement('div');
                    dot.className = 'screenshot-pagination-dot';
                    dot.dataset.index = i;

                    // Click to scroll to specific image
                    dot.addEventListener('click', () => {
                        const itemWidth = items[0].offsetWidth + 24; // item width + gap
                        section.container.scrollTo({
                            left: i * itemWidth,
                            behavior: 'smooth'
                        });
                    });

                    section.pagination.appendChild(dot);
                }

                // Update active dot on scroll
                function updateActiveDot() {
                    const scrollLeft = section.container.scrollLeft;
                    const itemWidth = items[0].offsetWidth + 24; // item width + gap
                    const activeIndex = Math.round(scrollLeft / itemWidth);

                    section.pagination.querySelectorAll('.screenshot-pagination-dot').forEach((dot, index) => {
                        if (index === activeIndex) {
                            dot.classList.add('active');
                        } else {
                            dot.classList.remove('active');
                        }
                    });
                }

                // Listen to scroll events
                section.container.addEventListener('scroll', updateActiveDot);

                // Set initial active dot
                updateActiveDot();
            });
        }

        // Initialize pagination after images load
        if (document.readyState === 'complete') {
            initScreenshotPagination();
        } else {
            window.addEventListener('load', initScreenshotPagination);
        }
    </script>
</body>
</html>

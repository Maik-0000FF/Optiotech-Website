// Keycap Animation - Randomize symbols and animation properties
(function() {
    const symbols = [
        // Accented Latin lowercase
        'Ã¤', 'Ã¶', 'Ã¼', 'ÃŸ', 'Ã©', 'Ã¨', 'Ãª', 'Ã«', 'Ã¡', 'Ã ', 'Ã¢', 'Ã£', 'Ã¥', 'Ã¦',
        'Ã­', 'Ã¬', 'Ã®', 'Ã¯', 'Ã³', 'Ã²', 'Ã´', 'Ãµ', 'Ã¸', 'Å“', 'Ãº', 'Ã¹', 'Ã»', 'Ã±',
        'Ã§', 'Ã½', 'Ã¿', 'Ä', 'Ä“', 'Ä«', 'Å', 'Å«', 'Äƒ', 'Ä•', 'ÄŸ', 'Å™', 'Å¡', 'Å¾',
        'Å‚', 'Å„', 'Å›', 'Ã°', 'Ã¾', 'Ä§', 'Å‹', 'Å‘', 'Å±', 'Ä…', 'Ä™', 'Ä¯', 'Å³', 'Ä‹',
        'Ä¡', 'Å¼', 'Ä‰', 'Ä', 'Ä¥', 'Äµ', 'Å', 'Å­', 'áº', 'áºƒ', 'áº…', 'á»³',
        // Accented Latin uppercase
        'Ã„', 'Ã–', 'Ãœ', 'Ã‰', 'Ãˆ', 'ÃŠ', 'Ã‹', 'Ã', 'Ã€', 'Ã‚', 'Ãƒ', 'Ã…', 'Ã†', 'Ã',
        'ÃŒ', 'ÃŽ', 'Ã', 'Ã“', 'Ã’', 'Ã”', 'Ã•', 'Ã˜', 'Å’', 'Ãš', 'Ã™', 'Ã›', 'Ã‘', 'Ã‡',
        'Ã', 'Å¸', 'Ä€', 'Ä’', 'Äª', 'ÅŒ', 'Åª', 'Ä‚', 'Äž', 'Å˜', 'Å ', 'Å½', 'Å', 'Åƒ',
        // Greek lowercase
        'Î±', 'Î²', 'Î³', 'Î´', 'Îµ', 'Î¶', 'Î·', 'Î¸', 'Î¹', 'Îº', 'Î»', 'Î¼', 'Î½', 'Î¾',
        'Î¿', 'Ï€', 'Ï', 'Ïƒ', 'Ï„', 'Ï…', 'Ï†', 'Ï‡', 'Ïˆ', 'Ï‰',
        // Greek uppercase
        'Î‘', 'Î’', 'Î“', 'Î”', 'Î•', 'Î–', 'Î—', 'Î˜', 'Î™', 'Îš', 'Î›', 'Îœ', 'Î', 'Îž',
        'ÎŸ', 'Î ', 'Î¡', 'Î£', 'Î¤', 'Î¥', 'Î¦', 'Î§', 'Î¨', 'Î©',
        // Cyrillic
        'Ð±', 'Ð³', 'Ð´', 'Ð¶', 'Ð·', 'Ð¸', 'Ð¹', 'Ð»', 'Ð¿', 'Ñ†', 'Ñ‡', 'Ñˆ', 'Ñ‰', 'ÑŠ',
        'Ñ‹', 'ÑŒ', 'Ñ', 'ÑŽ', 'Ñ', 'Ð‘', 'Ð“', 'Ð”', 'Ð–', 'Ð—', 'Ð˜', 'Ð›', 'ÐŸ', 'Ð¦',
        // Math operators
        'âˆž', 'âˆš', 'âˆ‘', 'âˆ†', 'âˆ‚', 'âˆ«', 'Â±', 'Ã·', 'Ã—', 'â‰ˆ', 'â‰ ', 'â‰¤', 'â‰¥', 'âˆ',
        'âˆ€', 'âˆƒ', 'âˆˆ', 'âˆ‰', 'âˆ…', 'âˆ©', 'âˆª', 'âŠ‚', 'âŠƒ', 'âŠ†', 'âŠ‡', 'âŠ•', 'âŠ—', 'âŠ¥',
        'âˆ§', 'âˆ¨', 'Â¬', 'â‡’', 'â‡”', 'âˆ´', 'âˆµ', 'âˆ', 'âˆ‡', 'âˆ ', 'â‰¡', 'â‰¢', 'âˆ¥',
        // Currency
        'â‚¬', 'Â£', 'Â¥', 'Â¢', 'â‚¿', 'â‚¹', 'â‚½', 'â‚©', 'à¸¿', 'â‚´', 'â‚¸', 'â‚º', 'â‚¼', 'â‚¾',
        // Arrows
        'â†', 'â†’', 'â†‘', 'â†“', 'â†”', 'â†•', 'â‡', 'â‡’', 'â‡‘', 'â‡“', 'â‡„', 'â‡…', 'â†—', 'â†˜',
        'â†™', 'â†–', 'â†©', 'â†ª', 'â¤´', 'â¤µ', 'âž”', 'âžœ', 'âž¤',
        // Symbols & marks
        'Â©', 'Â®', 'â„¢', 'Â§', 'Â¶', 'â€ ', 'â€¡', 'â€¢', 'Â°', 'â€²', 'â€³', 'â€°', 'â„ƒ', 'â„‰',
        'â„–', 'â„®',
        // Shapes & cards
        'â˜…', 'â˜†', 'â™ ', 'â™£', 'â™¥', 'â™¦', 'â™¤', 'â™§', 'â™¡', 'â™¢', 'â—', 'â—‹', 'â—†', 'â—‡',
        'â– ', 'â–¡', 'â–²', 'â–³', 'â–¼', 'â–½', 'â—€', 'â–¶', 'â—', 'â–·',
        // Animals
        'ðŸ¶', 'ðŸ±', 'ðŸ­', 'ðŸ¹', 'ðŸ°', 'ðŸ¦Š', 'ðŸ»', 'ðŸ¼', 'ðŸ¨', 'ðŸ¯', 'ðŸ¦', 'ðŸ®',
        'ðŸ·', 'ðŸ¸', 'ðŸµ', 'ðŸ”', 'ðŸ§', 'ðŸ¦', 'ðŸ¤', 'ðŸ¦†', 'ðŸ¦…', 'ðŸ¦‰', 'ðŸ¦‡', 'ðŸº',
        'ðŸ—', 'ðŸ´', 'ðŸ¦„', 'ðŸ', 'ðŸ›', 'ðŸ¦‹', 'ðŸŒ', 'ðŸž', 'ðŸœ', 'ðŸ¦Ÿ', 'ðŸ¢', 'ðŸ',
        'ðŸ¦Ž', 'ðŸ¦‚', 'ðŸ™', 'ðŸ¦‘', 'ðŸ¦', 'ðŸ¦ž', 'ðŸ¦€', 'ðŸ¡', 'ðŸ ', 'ðŸŸ', 'ðŸ¬', 'ðŸ³',
        'ðŸ‹', 'ðŸ¦ˆ', 'ðŸŠ', 'ðŸ…', 'ðŸ†', 'ðŸ¦“', 'ðŸ¦', 'ðŸ¦§', 'ðŸ˜', 'ðŸ¦›', 'ðŸ¦', 'ðŸª',
        'ðŸ«', 'ðŸ¦’', 'ðŸ¦˜', 'ðŸƒ', 'ðŸ‚', 'ðŸ„', 'ðŸŽ', 'ðŸ–', 'ðŸ', 'ðŸ‘', 'ðŸ¦™', 'ðŸ',
        // Weather & nature
        'â˜€', 'â˜', 'â˜‚', 'â˜ƒ', 'âš¡', 'â„', 'â˜½', 'â˜¾', 'âœ¿', 'â€', 'â˜˜',
        // Music & keyboard
        'â™ª', 'â™«', 'â™¬', 'â™©', 'âŒ˜', 'âŒ¥', 'â‡§', 'âŒƒ', 'âŽ‹', 'âŽ', 'âŒ«', 'âŒ¦',
        // Fractions & superscript
        'Â½', 'Â¼', 'Â¾', 'â…“', 'â…”', 'â…•', 'â…–', 'â…—', 'â…˜', 'â…™', 'â…š', 'â…›', 'â…œ', 'â…',
        'Â¹', 'Â²', 'Â³', 'â´', 'âµ', 'â¶', 'â·', 'â¸', 'â¹', 'â°',
        // Subscript
        'â‚€', 'â‚', 'â‚‚', 'â‚ƒ', 'â‚„', 'â‚…', 'â‚†', 'â‚‡', 'â‚ˆ', 'â‚‰',
        // Punctuation & typography
        'Â«', 'Â»', 'â€¹', 'â€º', 'â€ž', 'â€¦', 'â€“', 'â€”', 'Â·',
        // Technical
        'âŒ€', 'â', 'âš™', 'âš›', 'â˜¢', 'â˜£', 'âš ', 'â˜®', 'â˜¯', 'âœ“', 'âœ—', 'âœ•',
        // Smileys & faces
        'â˜º', 'â˜»', 'â˜¹', 'ðŸ˜€', 'ðŸ˜ƒ', 'ðŸ˜„', 'ðŸ˜', 'ðŸ˜†', 'ðŸ˜…', 'ðŸ¤£', 'ðŸ˜‚', 'ðŸ™‚', 'ðŸ˜Š',
        'ðŸ˜‡', 'ðŸ¥°', 'ðŸ˜', 'ðŸ¤©', 'ðŸ˜˜', 'ðŸ˜—', 'ðŸ˜š', 'ðŸ˜‹', 'ðŸ˜›', 'ðŸ˜œ', 'ðŸ¤ª', 'ðŸ˜',
        'ðŸ¤‘', 'ðŸ¤—', 'ðŸ¤­', 'ðŸ¤«', 'ðŸ¤”', 'ðŸ¤', 'ðŸ¤¨', 'ðŸ˜', 'ðŸ˜‘', 'ðŸ˜¶', 'ðŸ˜', 'ðŸ˜’',
        'ðŸ™„', 'ðŸ˜¬', 'ðŸ¤¥', 'ðŸ˜Œ', 'ðŸ˜”', 'ðŸ˜ª', 'ðŸ¤¤', 'ðŸ˜´', 'ðŸ˜·', 'ðŸ¤’', 'ðŸ¤•', 'ðŸ¤¢',
        'ðŸ¤®', 'ðŸ¥´', 'ðŸ˜µ', 'ðŸ¤¯', 'ðŸ¤ ', 'ðŸ¥³', 'ðŸ˜Ž', 'ðŸ¤“', 'ðŸ§', 'ðŸ˜•', 'ðŸ˜Ÿ', 'ðŸ™',
        'â˜¹', 'ðŸ˜®', 'ðŸ˜¯', 'ðŸ˜²', 'ðŸ˜³', 'ðŸ¥º', 'ðŸ˜¦', 'ðŸ˜§', 'ðŸ˜¨', 'ðŸ˜°', 'ðŸ˜¥', 'ðŸ˜¢',
        'ðŸ˜­', 'ðŸ˜±', 'ðŸ˜–', 'ðŸ˜£', 'ðŸ˜ž', 'ðŸ˜“', 'ðŸ˜©', 'ðŸ˜«', 'ðŸ¥±', 'ðŸ˜¤', 'ðŸ˜¡', 'ðŸ˜ ',
        'ðŸ¤¬', 'ðŸ‘', 'ðŸ‘Ž', 'ðŸ‘Œ', 'âœŒ', 'ðŸ¤ž', 'ðŸ¤Ÿ', 'ðŸ¤˜', 'ðŸ‘', 'ðŸ™Œ', 'ðŸ‘', 'ðŸ¤²',
        'ðŸ™', 'âœ', 'ðŸ’ª', 'ðŸ¦¾', 'ðŸ––', 'ðŸ‘‹', 'ðŸ¤š', 'âœ‹', 'ðŸ–', 'ðŸ‘†', 'ðŸ‘‡', 'ðŸ‘ˆ', 'ðŸ‘‰',
        // Chess
        'â™”', 'â™•', 'â™–', 'â™—', 'â™˜', 'â™™', 'â™š', 'â™›', 'â™œ', 'â™', 'â™ž', 'â™Ÿ',
        // Dingbats
        'âœˆ', 'âœ‰', 'âœŽ', 'âœ', 'âœ', 'âœ‘', 'âœ’', 'âœ”', 'âœ–', 'âœš', 'âœœ', 'âœ¢', 'âœ£', 'âœ¤',
        'âœ¥', 'âœ¦', 'âœ§', 'âœ©', 'âœª', 'âœ«', 'âœ¬', 'âœ­', 'âœ®', 'âœ¯', 'âœ°', 'âœ±', 'âœ²', 'âœ³'
    ];

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    const keycaps = document.querySelectorAll('.keycap-pyramid .keycap');
    if (keycaps.length > 0) {
        const shuffled = shuffle([...symbols]);
        keycaps.forEach((keycap, index) => {
            keycap.textContent = shuffled[index % shuffled.length];
            // Random wobble: -15 to 15 degrees
            const wobble = (Math.random() * 30 - 15).toFixed(1);
            keycap.style.setProperty('--wobble', wobble + 'deg');
            // Random start position
            const startX = (Math.random() * 80 - 40).toFixed(0);
            const startY = (Math.random() * 80 - 40).toFixed(0);
            keycap.style.setProperty('--start-x', startX + 'px');
            keycap.style.setProperty('--start-y', startY + 'px');
        });
    }
})();
